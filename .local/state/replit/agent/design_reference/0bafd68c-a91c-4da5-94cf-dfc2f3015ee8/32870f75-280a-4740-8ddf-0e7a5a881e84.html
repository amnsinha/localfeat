<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NearbyConnect - Find Your Local Community</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'sans': ['Inter', 'system-ui', 'sans-serif'],
                    }
                }
            }
        };
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
</head>
<body class="bg-gray-50 font-sans">
    <!-- @COMPONENT: AppHeader -->
    <header class="bg-white shadow-sm border-b border-gray-200 sticky top-0 z-50">
        <div class="max-w-4xl mx-auto px-4 py-3">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <h1 class="text-xl font-bold text-gray-900">NearbyConnect</h1>
                    <div class="flex items-center text-sm text-violet-600 bg-violet-50 px-3 py-1 rounded-full">
                        <i class="fas fa-location-dot mr-2"></i>
                        <span data-bind="user.location">Downtown, 1km radius</span>
                    </div>
                </div>
                <div class="flex items-center space-x-3">
                    <button class="p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-full transition-colors" data-event="click:toggleSearch">
                        <i class="fas fa-search"></i>
                    </button>
                    <button class="p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-full transition-colors">
                        <i class="fas fa-bell"></i>
                    </button>
                    <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-medium">
                        <span data-bind="user.initials">JD</span>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <!-- @END_COMPONENT: AppHeader -->

    <!-- @COMPONENT: FilterBar -->
    <div class="bg-white border-b border-gray-200 sticky top-16 z-40">
        <div class="max-w-4xl mx-auto px-4 py-3">
            <div class="flex items-center space-x-3 overflow-x-auto scrollbar-hide">
                <button class="flex-shrink-0 px-4 py-2 bg-blue-500 text-white rounded-full text-sm font-medium" data-event="click:filterAll">
                    All Posts
                </button>
                <button class="flex-shrink-0 px-4 py-2 bg-gray-100 text-gray-700 rounded-full text-sm font-medium hover:bg-gray-200 transition-colors" data-event="click:filterByTag" data-tag="gym">
                    #gym
                </button>
                <button class="flex-shrink-0 px-4 py-2 bg-gray-100 text-gray-700 rounded-full text-sm font-medium hover:bg-gray-200 transition-colors" data-event="click:filterByTag" data-tag="travel">
                    #travel
                </button>
                <button class="flex-shrink-0 px-4 py-2 bg-gray-100 text-gray-700 rounded-full text-sm font-medium hover:bg-gray-200 transition-colors" data-event="click:filterByTag" data-tag="study">
                    #study
                </button>
                <button class="flex-shrink-0 px-4 py-2 bg-gray-100 text-gray-700 rounded-full text-sm font-medium hover:bg-gray-200 transition-colors" data-event="click:filterByTag" data-tag="food">
                    #food
                </button>
                <button class="flex-shrink-0 px-4 py-2 bg-gray-100 text-gray-700 rounded-full text-sm font-medium hover:bg-gray-200 transition-colors" data-event="click:filterByTag" data-tag="music">
                    #music
                </button>
            </div>
        </div>
    </div>
    <!-- @END_COMPONENT: FilterBar -->

    <main class="max-w-4xl mx-auto px-4 py-6">
        <!-- @COMPONENT: PostFeed -->
        <div class="space-y-6">
            <!-- @MAP: posts.map(post => ( -->
            
            <!-- Post 1 -->
            <article class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden" data-mock="true">
                <div class="p-6">
                    <div class="flex items-start justify-between mb-4">
                        <div class="flex items-center space-x-3">
                            <div class="w-10 h-10 bg-gradient-to-br from-blue-400 to-blue-600 rounded-full flex items-center justify-center text-white font-semibold">
                                <span data-bind="post.author.initials">SM</span>
                            </div>
                            <div>
                                <h3 class="font-semibold text-gray-900" data-bind="post.author.name">Sarah Miller</h3>
                                <div class="flex items-center text-sm text-gray-500 space-x-2">
                                    <i class="fas fa-location-dot text-violet-500"></i>
                                    <span data-bind="post.location">0.3km away</span>
                                    <span>‚Ä¢</span>
                                    <span data-bind="post.timestamp">2 hours ago</span>
                                </div>
                            </div>
                        </div>
                        <button class="text-gray-400 hover:text-gray-600 transition-colors">
                            <i class="fas fa-ellipsis-h"></i>
                        </button>
                    </div>
                    
                    <div class="mb-4">
                        <p class="text-gray-900 text-base leading-relaxed" data-bind="post.content">Looking for a gym buddy to join me for morning workouts! I usually go to FitLife Gym around 7 AM. Would love to have someone to keep me motivated üí™</p>
                    </div>
                    
                    <div class="flex flex-wrap gap-2 mb-4">
                        <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800">#gym</span>
                        <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800">#fitness</span>
                        <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-800">#morning</span>
                    </div>
                    
                    <div class="flex items-center justify-between pt-4 border-t border-gray-100">
                        <div class="flex items-center space-x-6">
                            <button class="flex items-center space-x-2 text-gray-600 hover:text-blue-600 transition-colors" data-event="click:toggleLike">
                                <i class="far fa-heart"></i>
                                <span class="text-sm font-medium" data-bind="post.likes">12</span>
                            </button>
                            <button class="flex items-center space-x-2 text-gray-600 hover:text-blue-600 transition-colors" data-event="click:toggleComments">
                                <i class="far fa-comment"></i>
                                <span class="text-sm font-medium" data-bind="post.comments">5</span>
                            </button>
                            <button class="flex items-center space-x-2 text-gray-600 hover:text-blue-600 transition-colors">
                                <i class="far fa-share-square"></i>
                                <span class="text-sm font-medium">Share</span>
                            </button>
                        </div>
                        <button class="px-4 py-2 bg-blue-500 text-white rounded-lg text-sm font-medium hover:bg-blue-600 transition-colors" data-event="click:respondToPost">
                            Respond
                        </button>
                    </div>
                </div>
                
                <!-- Comments Section -->
                <div class="border-t border-gray-100 bg-gray-50">
                    <div class="p-4 space-y-4">
                        <div class="flex items-start space-x-3">
                            <div class="w-8 h-8 bg-gradient-to-br from-green-400 to-green-600 rounded-full flex items-center justify-center text-white text-sm font-semibold">
                                <span data-bind="comment.author.initials">MJ</span>
                            </div>
                            <div class="flex-1">
                                <div class="bg-white rounded-lg p-3">
                                    <h4 class="font-semibold text-gray-900 text-sm" data-bind="comment.author.name">Mike Johnson</h4>
                                    <p class="text-gray-700 text-sm mt-1" data-bind="comment.content">I'm interested! I've been looking for a workout partner too. What kind of workouts do you usually do?</p>
                                </div>
                                <div class="flex items-center space-x-4 mt-2 text-xs text-gray-500">
                                    <span data-bind="comment.timestamp">1 hour ago</span>
                                    <button class="hover:text-blue-600 transition-colors">Reply</button>
                                    <button class="hover:text-red-600 transition-colors">
                                        <i class="far fa-heart mr-1"></i>3
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="flex items-center space-x-3">
                            <div class="w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center text-gray-600 text-sm font-semibold">
                                <span data-bind="user.initials">JD</span>
                            </div>
                            <div class="flex-1">
                                <input type="text" placeholder="Write a comment..." class="w-full px-4 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" data-event="keypress:handleCommentSubmit">
                            </div>
                            <button class="px-3 py-2 bg-blue-500 text-white rounded-lg text-sm font-medium hover:bg-blue-600 transition-colors" data-event="click:submitComment">
                                Post
                            </button>
                        </div>
                    </div>
                </div>
            </article>
            
            <!-- Post 2 -->
            <article class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden" data-mock="true">
                <div class="p-6">
                    <div class="flex items-start justify-between mb-4">
                        <div class="flex items-center space-x-3">
                            <div class="w-10 h-10 bg-gradient-to-br from-purple-400 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold">
                                <span data-bind="post.author.initials">AK</span>
                            </div>
                            <div>
                                <h3 class="font-semibold text-gray-900" data-bind="post.author.name">Alex Kim</h3>
                                <div class="flex items-center text-sm text-gray-500 space-x-2">
                                    <i class="fas fa-location-dot text-violet-500"></i>
                                    <span data-bind="post.location">0.8km away</span>
                                    <span>‚Ä¢</span>
                                    <span data-bind="post.timestamp">4 hours ago</span>
                                </div>
                            </div>
                        </div>
                        <button class="text-gray-400 hover:text-gray-600 transition-colors">
                            <i class="fas fa-ellipsis-h"></i>
                        </button>
                    </div>
                    
                    <div class="mb-4">
                        <p class="text-gray-900 text-base leading-relaxed" data-bind="post.content">Anyone up for a weekend hiking trip to the nearby trails? Planning to go this Saturday morning, weather permitting. Great way to stay active and meet new people! üèîÔ∏è</p>
                    </div>
                    
                    <div class="flex flex-wrap gap-2 mb-4">
                        <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800">#hiking</span>
                        <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800">#travel</span>
                        <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-yellow-100 text-yellow-800">#weekend</span>
                    </div>
                    
                    <div class="flex items-center justify-between pt-4 border-t border-gray-100">
                        <div class="flex items-center space-x-6">
                            <button class="flex items-center space-x-2 text-red-600" data-event="click:toggleLike">
                                <i class="fas fa-heart"></i>
                                <span class="text-sm font-medium" data-bind="post.likes">24</span>
                            </button>
                            <button class="flex items-center space-x-2 text-gray-600 hover:text-blue-600 transition-colors" data-event="click:toggleComments">
                                <i class="far fa-comment"></i>
                                <span class="text-sm font-medium" data-bind="post.comments">8</span>
                            </button>
                            <button class="flex items-center space-x-2 text-gray-600 hover:text-blue-600 transition-colors">
                                <i class="far fa-share-square"></i>
                                <span class="text-sm font-medium">Share</span>
                            </button>
                        </div>
                        <button class="px-4 py-2 bg-blue-500 text-white rounded-lg text-sm font-medium hover:bg-blue-600 transition-colors" data-event="click:respondToPost">
                            Join Trip
                        </button>
                    </div>
                </div>
            </article>
            
            <!-- Post 3 -->
            <article class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden" data-mock="true">
                <div class="p-6">
                    <div class="flex items-start justify-between mb-4">
                        <div class="flex items-center space-x-3">
                            <div class="w-10 h-10 bg-gradient-to-br from-emerald-400 to-emerald-600 rounded-full flex items-center justify-center text-white font-semibold">
                                <span data-bind="post.author.initials">JL</span>
                            </div>
                            <div>
                                <h3 class="font-semibold text-gray-900" data-bind="post.author.name">Jessica Lee</h3>
                                <div class="flex items-center text-sm text-gray-500 space-x-2">
                                    <i class="fas fa-location-dot text-violet-500"></i>
                                    <span data-bind="post.location">0.5km away</span>
                                    <span>‚Ä¢</span>
                                    <span data-bind="post.timestamp">6 hours ago</span>
                                </div>
                            </div>
                        </div>
                        <button class="text-gray-400 hover:text-gray-600 transition-colors">
                            <i class="fas fa-ellipsis-h"></i>
                        </button>
                    </div>
                    
                    <div class="mb-4">
                        <p class="text-gray-900 text-base leading-relaxed" data-bind="post.content">Study group forming for upcoming finals! We meet at the local library every evening. Looking for serious students who want to ace their exams together üìö</p>
                    </div>
                    
                    <div class="flex flex-wrap gap-2 mb-4">
                        <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-indigo-100 text-indigo-800">#study</span>
                        <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-red-100 text-red-800">#finals</span>
                        <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-800">#library</span>
                    </div>
                    
                    <div class="flex items-center justify-between pt-4 border-t border-gray-100">
                        <div class="flex items-center space-x-6">
                            <button class="flex items-center space-x-2 text-gray-600 hover:text-blue-600 transition-colors" data-event="click:toggleLike">
                                <i class="far fa-heart"></i>
                                <span class="text-sm font-medium" data-bind="post.likes">18</span>
                            </button>
                            <button class="flex items-center space-x-2 text-gray-600 hover:text-blue-600 transition-colors" data-event="click:toggleComments">
                                <i class="far fa-comment"></i>
                                <span class="text-sm font-medium" data-bind="post.comments">12</span>
                            </button>
                            <button class="flex items-center space-x-2 text-gray-600 hover:text-blue-600 transition-colors">
                                <i class="far fa-share-square"></i>
                                <span class="text-sm font-medium">Share</span>
                            </button>
                        </div>
                        <button class="px-4 py-2 bg-blue-500 text-white rounded-lg text-sm font-medium hover:bg-blue-600 transition-colors" data-event="click:respondToPost">
                            Join Study Group
                        </button>
                    </div>
                </div>
            </article>
            
            <!-- @END_MAP )) -->
        </div>
        <!-- @END_COMPONENT: PostFeed -->
        
        <!-- Load More Button -->
        <div class="text-center py-8">
            <button class="px-6 py-3 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors" data-event="click:loadMorePosts">
                Load More Posts
            </button>
        </div>
    </main>

    <!-- @COMPONENT: FloatingActionButton -->
    <div class="fixed bottom-6 right-6 z-50">
        <button class="w-14 h-14 bg-blue-500 hover:bg-blue-600 text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-200 flex items-center justify-center" data-event="click:openCreatePost">
            <i class="fas fa-plus text-xl"></i>
        </button>
    </div>
    <!-- @END_COMPONENT: FloatingActionButton -->

    <!-- @COMPONENT: CreatePostModal -->
    <div class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden" id="createPostModal" data-event="click:closeModal">
        <div class="flex items-center justify-center min-h-screen px-4">
            <div class="bg-white rounded-xl shadow-2xl w-full max-w-lg" data-event="click:stopPropagation">
                <div class="p-6">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-xl font-bold text-gray-900">Create New Post</h2>
                        <button class="text-gray-400 hover:text-gray-600 transition-colors" data-event="click:closeModal">
                            <i class="fas fa-times text-xl"></i>
                        </button>
                    </div>
                    
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">What are you looking for?</label>
                            <textarea rows="4" class="w-full px-4 py-3 border border-gray-300 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Describe what you're looking for... (e.g., Need a gym buddy for morning workouts)" data-implementation="Should auto-save draft"></textarea>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Add Tags</label>
                            <input type="text" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Add hashtags separated by spaces (e.g., #gym #fitness #morning)" data-implementation="Should parse hashtags automatically">
                        </div>
                        
                        <div class="bg-violet-50 border border-violet-200 rounded-lg p-4">
                            <div class="flex items-center space-x-2 text-violet-700">
                                <i class="fas fa-location-dot"></i>
                                <span class="text-sm font-medium">Location automatically detected</span>
                            </div>
                            <p class="text-sm text-violet-600 mt-1" data-bind="user.detectedLocation">Downtown Area, San Francisco</p>
                            <p class="text-xs text-violet-500 mt-1">Only users within 1km will see your post</p>
                        </div>
                    </div>
                    
                    <div class="flex items-center justify-between mt-6 pt-6 border-t border-gray-200">
                        <button class="px-4 py-2 text-gray-600 hover:text-gray-900 transition-colors" data-event="click:closeModal">
                            Cancel
                        </button>
                        <button class="px-6 py-2 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 transition-colors" data-event="click:submitPost" data-implementation="Should validate content and location before submission">
                            Post Request
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- @END_COMPONENT: CreatePostModal -->

    <!-- @COMPONENT: LocationPermissionBanner -->
    <div class="fixed bottom-0 left-0 right-0 bg-blue-600 text-white p-4 z-40 hidden" id="locationBanner">
        <div class="max-w-4xl mx-auto flex items-center justify-between">
            <div class="flex items-center space-x-3">
                <i class="fas fa-location-dot text-blue-200"></i>
                <div>
                    <p class="font-medium">Enable location access</p>
                    <p class="text-sm text-blue-200">We need your location to show nearby posts and requests</p>
                </div>
            </div>
            <div class="flex items-center space-x-3">
                <button class="px-4 py-2 text-blue-200 hover:text-white transition-colors" data-event="click:dismissLocationBanner">
                    Later
                </button>
                <button class="px-4 py-2 bg-white text-blue-600 rounded-lg font-medium hover:bg-blue-50 transition-colors" data-event="click:requestLocationPermission">
                    Allow Location
                </button>
            </div>
        </div>
    </div>
    <!-- @END_COMPONENT: LocationPermissionBanner -->

    <script>
        // TODO: Implement geolocation API integration
        // TODO: Implement real-time post updates
        // TODO: Implement hashtag parsing and filtering
        // TODO: Implement comment system with threading
        
        (function() {
            // Modal functionality
            const createPostBtn = document.querySelector('[data-event="click:openCreatePost"]');
            const modal = document.getElementById('createPostModal');
            const closeModalBtns = document.querySelectorAll('[data-event="click:closeModal"]');
            
            if (createPostBtn && modal) {
                createPostBtn.addEventListener('click', () => {
                    modal.classList.remove('hidden');
                });
            }
            
            closeModalBtns.forEach(btn => {
                btn.addEventListener('click', (e) => {
                    if (e.target === e.currentTarget || e.target.closest('[data-event="click:closeModal"]')) {
                        modal.classList.add('hidden');
                    }
                });
            });
            
            // Location permission simulation
            const locationBanner = document.getElementById('locationBanner');
            const allowLocationBtn = document.querySelector('[data-event="click:requestLocationPermission"]');
            const dismissBannerBtn = document.querySelector('[data-event="click:dismissLocationBanner"]');
            
            // Show banner after 2 seconds if location not granted
            setTimeout(() => {
                if (locationBanner && !localStorage.getItem('locationPermissionHandled')) {
                    locationBanner.classList.remove('hidden');
                }
            }, 2000);
            
            if (allowLocationBtn) {
                allowLocationBtn.addEventListener('click', () => {
                    // TODO: Request actual geolocation permission
                    localStorage.setItem('locationPermissionHandled', 'true');
                    locationBanner.classList.add('hidden');
                });
            }
            
            if (dismissBannerBtn) {
                dismissBannerBtn.addEventListener('click', () => {
                    locationBanner.classList.add('hidden');
                });
            }
            
            // Like button interactions
            document.querySelectorAll('[data-event="click:toggleLike"]').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const icon = btn.querySelector('i');
                    const countSpan = btn.querySelector('span');
                    let count = parseInt(countSpan.textContent);
                    
                    if (icon.classList.contains('far')) {
                        icon.className = 'fas fa-heart';
                        btn.classList.add('text-red-600');
                        btn.classList.remove('text-gray-600', 'hover:text-blue-600');
                        countSpan.textContent = count + 1;
                    } else {
                        icon.className = 'far fa-heart';
                        btn.classList.remove('text-red-600');
                        btn.classList.add('text-gray-600', 'hover:text-blue-600');
                        countSpan.textContent = count - 1;
                    }
                });
            });
            
        })();
    </script>
</body>
</html>